<ion-view title="Cleansuit">
	<ion-content class="pdBoton contcarro">

		<menu-tabs carrito="carrito" banderas="banderas"></menu-tabs>


		<div class="titulo">
			ORDEN # {{infoOrden.codigo | numberFixedLen:4}}
		</div> 


		<ion-list class="carro">
			<ion-item class="item-icon-right item-text-wrap" ng-if="carrito.servicioDirecto && carrito.contServicios == 0">
				<h2>Servicio directo</h2>
				<p>El total del servicio sera estimado por el domiciliario.</p>
				<i  class="icon ion-ios-close-outline" ng-click="carrito.servicioDirecto=false;carrito.calcularTotales()" ></i>		
			</ion-item>

			<elemento-centrado>
				<a class="cancelar positive" ng-if="carrito.hayItems('SUBSERVICIO') || carrito.contServicios > 0">Servicios</a>
			</elemento-centrado>

			<ion-item ng-repeat="item in carrito.items track by $index" ng-if="item.tipo !== 'PRODUCTO'">
				<h2>{{item.nombre}}</h2>
				<p>{{item.servicio.nombre}}</p>
				<p>ID: {{item.prenda.codigo}}</p>
				<h3>{{item.precio || 0  | currency : "$ " : 0 }}</h3>
			</ion-item>


			<elemento-centrado>
				<a class="cancelar positive" ng-if="carrito.hayItems('PRODUCTO') || carrito.contProductos > 0">Productos</a>
			</elemento-centrado>

			<ion-item ng-repeat="item in carrito.items track by $index" ng-if="item.tipo == 'PRODUCTO'" class="item-thumbnail-left">
				<div class="img">
					<img ng-src="{{item.url_imagen}}"/>
				</div>
				<h2>{{item.nombre}}</h2>
				<h3>{{item.precio || 0  | currency : "$ " : 0 }}</h3>				
					
				<div class="contador">
					<i ng-click="aumentar(item, 'PRODUCTO')" class="icon ico-mas"></i>
					<span>{{item.cantidad || 0}}</span>
					<i ng-click="disminuir(item, 'PRODUCTO')" class="icon ico-menos"></i>
				</div>
			</ion-item>
		</ion-list>

		<resumen-totales totales="carrito.totales" ng-if="carrito.contProductos + carrito.contServicios > 0"></resumen-totales>

		<div clas="card" ng-hide="carrito.hayItems()">
			<div class="item item-text-wrap">
				Para agregar prendas y productos presiona el bot√≥n flotante.
			</div>
		</div>

		<div class="contagregar">
			<button class="addservicios " ng-click="agregarServicio()">
			<i class="icon icons icons-servicios"></i>
			</button>
			<button class="addproductos" ng-click="agregarProductos()">
				<i class="icon icons icons-productos"></i>
			</button>
			<button class="btncerrar" ng-click="">
				<i class="icon icons icons-ocultar"></i>
			</button>
		</div>

		<button class="adds" ng-click="">
			<i class="icon icons icons-desplegar"></i>
		</button>
		

		<elemento-centrado>
			<a ng-click="cancelarOrden()" class="cancelar"> Cancelar Orden</a>
		</elemento-centrado>
	
	</ion-content>

	<div class="bar bar-footer">
		<a ng-click="siguiente()" class="button button-calm button-full" ng-disabled="carrito.contProductos + carrito.contServicios == 0 && !carrito.servicioDirecto"> 
			SIGUIENTE
		</a>
	</div>

</ion-view>
